        (*(code *)prVar2[1].inter)
                  (local_90,iVar11,local_80,
                   go_itab__google_golang_org_grpc_stats_Begin_google_golang_org_grpc_stats_RPCStats
                   ,puVar9);
        pgVar15 = local_38 + 1;
        pvVar14 = local_80;
        iVar13 = local_b8 + 1;
      }
      local_e0 = local_c0;
      local_d8 = local_c8;
      local_58 = local_40;
      if (google_golang_org_grpc_EnableTracing == false) {
        local_a8 = (google_golang_org_grpc_stats_Handler *)0x0;
      }
      else {
        ~r0_02.len = (int)in_stack_fffffffffffffeb8;
        ~r0_02.str = (uint8 *)in_stack_fffffffffffffeb0;
        google_golang_org_grpc_methodFamily(in_stack_fffffffffffffea0,~r0_02);
        a1.len = (int)in_stack_fffffffffffffeb8;
        a1.str = (uint8 *)in_stack_fffffffffffffeb0;
        runtime_concatstring2
                  ((runtime_tmpBuf *)0x0,in_stack_fffffffffffffea0,a1,
                   (string)in_stack_fffffffffffffec0);
        title.len = (int)in_stack_fffffffffffffeb8;
        title.str = (uint8 *)in_stack_fffffffffffffeb0;
        golang_org_x_net_trace_New
                  (in_stack_fffffffffffffea0,title,
                   (golang_org_x_net_trace_Trace)in_stack_fffffffffffffec0);
        local_b0 = extraout_RBX_00;
        runtime_convI2I((internal_abi_InterfaceType *)&DAT_00856d00,src,src);
        local_48 = extraout_RAX_10;
        runtime_newobject((internal_abi_Type *)&DAT_0084de00,~r0_10);
        extraout_RAX_11->tab = local_48;
        local_a8 = extraout_RAX_11;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier1();
          *extraout_R11_04 = local_b0;
          local_a8 = extraout_RAX_12;
        }
        local_a8->data = local_b0;
        *(undefined *)&local_a8[1].data = 1;
        ~r0_06 = (**(code **)(iVar11 + 0x18))(local_80);
        if (extraout_DIL != '\0') {
          t.loc = in_stack_fffffffffffffeb0;
          t.wall = (uint64)in_stack_fffffffffffffea0.str;
          t.ext = in_stack_fffffffffffffea0.len;
          time_Until(t,~r0_06);
          local_a8[3].tab = extraout_RAX_13;
        }
        (*(code *)local_a8->tab[1].inter)
                  (local_a8->data,go_itab__google_golang_org_grpc_firstLine_fmt_Stringer,
                   local_a8 + 1,0);
        local_a0 = local_a8->data;
        runtime_convI2I((internal_abi_InterfaceType *)&DAT_00858380,local_a8->tab,~r0_07);
        runtime_convTstring(in_stack_fffffffffffffea0,golang_org_x_net_trace_contextKey.str);
        key_00.data = in_stack_fffffffffffffeb8;
        key_00._type = (internal_abi_Type *)in_stack_fffffffffffffeb0;
        ~r0_04.tab._7_1_ = bVar17;
        ~r0_04.tab._0_7_ = in_stack_fffffffffffffed0;
        ~r0_04.data = pvVar8;
        context_WithValue((context_Context)in_stack_fffffffffffffea0,key_00,
                          in_stack_fffffffffffffec0,~r0_04);
        iVar11 = extraout_RAX_14;
        pvVar14 = extraout_RBX_01;
      }
      if ((google_golang_org_grpc_internal_GRPCResolverSchemeExtraMetadata.len ==
           (cs->cc->parsedTarget).URL.Scheme.len) &&
         (local_d0 = iVar11, local_50 = pvVar14, runtime_memequal(), iVar11 = local_d0,
         pvVar14 = local_50, extraout_AL != '\0')) {
        if ((cs->callHdr->ContentSubtype).len == 0) {
          local_18._8_8_ = 0x10;
          local_18._0_8_ =
               "application/grpctime: bad [0-9]*expected integerexpected newlineinvalid address hostLookupOrder=/etc/resolv.confnon-IPv4 addressnon-IPv6 addressunknown network no colon on line: value of type integer overflowgcshrinkstackofftracefpunwindoffGC scavenge waitGC worker (idle)SIGNONE: no trap out of bounds [/gc/gogc:percent, not a functiongc: unswept span KiB work (bg),  mheap.sweepgen=runtime: nelems=workbuf is emptymSpanList.removemSpanList.insertbad special kindbad summary dataruntime: addr = runtime: base = runtime: head =  already; errno=\nruntime stack:\ninvalid g statuscastogscanstatusbad g transitionschedule: in cgoGOTRACEBACK=nonereflect mismatch untyped locals missing stackmapbad symbol tablenon-Go function\n not in ranges:\nsigaction failedinvalid argumentinvalid exchangeobject is remotemessage too longno route to hostremote I/O errorsource_code_infocc_enable_arenascsharp_namespacephp_class_prefixclient_streamingserver_streamingedition_defaultsmessage_encodingidentifier_valueleading_commentsunknown type: %Treflect.MakeFuncDeadlineExceededPermissionDeniedINVALID_ARGUMENTinvalid code: %dinvalid code: %q\"ALREADY_EXISTS\"ServerName: %q, Attributes: %v, <stream: %p, %v>^{h(?::(\\d+))?}$^{m(?::(\\d+))?}$after object keyhttp: nil Cookiecontent-encodingcontent-languagecontent-locationwww-authenticate%s %s HTTP/1.1\r\nUser-Agent: %s\r\nAlready ReportedMultiple ChoicesPayment RequiredUpgrade RequiredContent-Length: SETTINGS_TIMEOUTFRAME_SIZE_ERRORout of range: %q2384185791015625Imperial_AramaicMeroitic_CursiveZanabazar_Squareinvalid ip:port invalid AddrPortinvalid dns nameunpacking headerRCodeFormatErrorGODEBUG: value \"must be positiveinvalid encodingregexp: Compile(quoted-printableContent-Language"
          ;
        }
        else {
          a1_00.len = (int)in_stack_fffffffffffffeb8;
          a1_00.str = (uint8 *)in_stack_fffffffffffffeb0;
          runtime_concatstring2
                    ((runtime_tmpBuf *)0x0,in_stack_fffffffffffffea0,a1_00,
                     (string)in_stack_fffffffffffffec0);
          local_18._0_8_ = extraout_RAX_15;
          local_18._8_8_ = extraout_RBX_02;
        }
        local_28._8_8_ = 0xc;
        local_28._0_8_ = &DAT_008b42cd;
        kv.cap = (int)in_stack_fffffffffffffeb0;
        kv.array = (string *)in_stack_fffffffffffffea0.str;
        kv.len = in_stack_fffffffffffffea0.len;
        google_golang_org_grpc_metadata_Pairs(kv,(google_golang_org_grpc_metadata_MD)local_28);
        key_01.data = in_stack_fffffffffffffeb8;
        key_01._type = (internal_abi_Type *)in_stack_fffffffffffffeb0;
        ~r0_05.tab._7_1_ = bVar17;
        ~r0_05.tab._0_7_ = in_stack_fffffffffffffed0;
        ~r0_05.data = pvVar8;
        context_WithValue((context_Context)in_stack_fffffffffffffea0,key_01,
                          in_stack_fffffffffffffec0,~r0_05);
        iVar11 = extraout_RAX_16;
        pvVar14 = extraout_RBX_03;
      }
      local_80 = pvVar14;
      runtime_newobject((internal_abi_Type *)&DAT_0089dba0,pvVar14);
      *extraout_RAX_17 = iVar11;
      piVar12 = extraout_RAX_17;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier1();
        *extraout_R11_05 = local_80;
        piVar12 = extraout_RAX_18;
      }
      piVar12[1] = (int)local_80;
      piVar12[0x16] = local_e0;
      piVar12[0x17] = (int)local_d8;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_06 = local_58;
        extraout_R11_06[1] = (int)cs;
        piVar12 = extraout_RAX_19;
      }
      piVar12[0x18] = local_58;
      piVar12[2] = (int)cs;
      pvVar14 = (cs->cc->dopts).dc.data;
      piVar12[0xc] = (int)(cs->cc->dopts).dc.tab;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier1();
        *extraout_R11_07 = pvVar14;
        piVar12 = extraout_RAX_20;
      }
      piVar12[0xd] = (int)pvVar14;
      piVar12[0x14] = (int)pvVar8;
      piVar12[0x15] = iVar7;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_08 = local_98;
        extraout_R11_08[1] = local_a8;
        piVar12 = extraout_RAX_21;
      }
      piVar12[0x13] = (int)local_98;
      piVar12[0x12] = (int)local_a8;
      return;
    }
    return;
  }
  ~r0_01.data = in_stack_fffffffffffffeb8;
  ~r0_01.tab = (runtime_itab *)in_stack_fffffffffffffeb0;
  google_golang_org_grpc_toRPCErr((error)in_stack_fffffffffffffea0,~r0_01);
  return;
}


/*
Unable to decompile 'google.golang.org/grpc.(*csAttempt).getTransport'
Cause: 
Low-level Error: Overlapping input varnodes
*/


void google_golang_org_grpc___csAttempt__newStream(google_golang_org_grpc_csAttempt *a,error ~r0)

{
  google_golang_org_grpc_clientStream *pgVar1;
  google_golang_org_grpc_ClientConn *pgVar2;
  void *srcPtr;
  void *pvVar3;
  runtime_slice ~r0_00;
  error ~r0_01;
  interface___ key;
  context_Context ~r0_02;
  runtime_hmap *~r0_03;
  google_golang_org_grpc_metadata_MD md;
  runtime_hmap *extraout_RAX;
  google_golang_org_grpc_metadata_MD out;
  google_golang_org_grpc_csAttempt *pgVar4;
  google_golang_org_grpc_internal_transport_Stream *extraout_RAX_00;
  google_golang_org_grpc_internal_transport_Stream *s;
  google_golang_org_grpc_internal_transport_Stream *extraout_RAX_01;
  google_golang_org_grpc_internal_transport_Stream *pgVar5;
  google_golang_org_grpc_parser *extraout_RAX_02;
  google_golang_org_grpc_parser *extraout_RAX_03;
  google_golang_org_grpc_parser *extraout_RAX_04;
  google_golang_org_grpc_parser *pgVar6;
  runtime_itab *extraout_RAX_05;
  void **extraout_RAX_06;
  void *extraout_RAX_07;
  int extraout_RCX;
  google_golang_org_grpc_internal_transport_NewStreamError *nse;
  google_golang_org_grpc_csAttempt *extraout_RCX_00;
  google_golang_org_grpc_csAttempt *extraout_RCX_01;
  int iVar7;
  google_golang_org_grpc_csAttempt *extraout_RCX_02;
  void *extraout_RCX_03;
  void *oldCap;
  google_golang_org_grpc_clientStream *cs;
  void *pvVar8;
  undefined1 *extraout_RBX;
  void *extraout_RBX_00;
  google_golang_org_grpc_metadata_MD md_1;
  runtime_hmap *h;
  void *extraout_RBX_01;
  void *extraout_RBX_02;
  void *extraout_RBX_03;
  void *oldPtr;
  int extraout_R8;
  int extraout_R8_00;
  int ~r0_04;
  void **extraout_R8_01;
  google_golang_org_grpc_internal_transport_Stream **extraout_R11;
  void **extraout_R11_00;
  google_golang_org_grpc_internal_transport_Stream **extraout_R11_01;
  void **extraout_R11_02;
  void **extraout_R11_03;
  void **extraout_R11_04;
  int unaff_R14;
  undefined in_XMM15 [16];
  string in_stack_fffffffffffffed8;
  internal_abi_Type *in_stack_fffffffffffffee8;
  void *in_stack_fffffffffffffef0;
  interface___ in_stack_fffffffffffffef8;
  runtime_itab *in_stack_ffffffffffffff08;
  runtime_itab *prVar9;
  void **local_a8;
  runtime_hmap *local_a0;
  undefined local_98 [16];
  undefined local_88 [32];
  runtime_hiter local_68;
  
  while (&local_a8 <= *(void ****)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  pgVar1 = a->cs;
  pgVar1->callHdr->PreviousAttempts = pgVar1->numRetries;
  pgVar4 = a;
  if ((a->pickResult).Metadata != (google_golang_org_grpc_metadata_MD)0x0) {
    google_golang_org_grpc_metadata_FromOutgoingContext
              ((context_Context)in_stack_fffffffffffffed8,
               (google_golang_org_grpc_metadata_MD)(a->ctx).tab,SUB81((a->ctx).data,0));
    local_98._8_8_ = (a->pickResult).Metadata;
    local_98._0_8_ = ~r0_03;
    runtime_makemap_small(~r0_03);
    local_a0 = extraout_RAX;
    for (iVar7 = 0; iVar7 < 2; iVar7 = iVar7 + 1) {
      FUN_0046cdab();
      runtime_mapiterinit((internal_abi_MapType *)&DAT_0087f400,h,&local_68);
      while ((void **)local_68.key != (void **)0x0) {
                    // WARNING: Load size is inaccurate
        in_stack_ffffffffffffff08 = *(runtime_itab **)((int)local_68.elem + 8);
                    // WARNING: Load size is inaccurate
        srcPtr = *local_68.elem;
        runtime_mapassign_faststr
                  ((internal_abi_MapType *)&DAT_0087f400,local_a0,in_stack_fffffffffffffed8,
                   *local_68.key);
        pvVar3 = extraout_RAX_06[1];
        oldCap = extraout_RAX_06[2];
        pvVar8 = (void *)((int)pvVar3 + (int)in_stack_ffffffffffffff08);
        oldPtr = *extraout_RAX_06;
        ~r0_04 = extraout_R8;
        local_a8 = extraout_RAX_06;
        if (oldCap < pvVar8) {
          ~r0_00.cap = (int)in_stack_fffffffffffffee8;
          ~r0_00.array = in_stack_fffffffffffffed8.str;
          ~r0_00.len = in_stack_fffffffffffffed8.len;
          runtime_growslice(oldPtr,(int)pvVar8,(int)oldCap,(int)in_stack_ffffffffffffff08,
                            (internal_abi_Type *)&DAT_008075e0,~r0_00);
          oldCap = extraout_RCX_03;
          pvVar8 = extraout_RBX_03;
          oldPtr = extraout_RAX_07;
          ~r0_04 = extraout_R8_00;
        }
        runtime_typedslicecopy
                  ((internal_abi_Type *)&DAT_008075e0,
                   (void *)((int)oldPtr + ((int)pvVar3 << 4 & (int)pvVar3 - (int)oldCap >> 0x3f)),
                   (int)pvVar8 - (int)pvVar3,srcPtr,(int)in_stack_ffffffffffffff08,~r0_04);
        local_a8[1] = pvVar8;
        local_a8[2] = oldCap;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11_04 = oldPtr;
          extraout_R11_04[1] = *extraout_R8_01;
          local_a8 = extraout_R8_01;
        }
        *local_a8 = oldPtr;
        runtime_mapiternext(&local_68);
      }
    }
    prVar9 = (a->ctx).tab;
    local_88._8_8_ = in_XMM15._8_8_;
    local_88._0_8_ = local_a0;
    runtime_convT((internal_abi_Type *)&DAT_00852a40,local_88,a);
    key.data = in_stack_fffffffffffffef0;
    key._type = in_stack_fffffffffffffee8;
    ~r0_02.data = prVar9;
    ~r0_02.tab = in_stack_ffffffffffffff08;
    context_WithValue((context_Context)in_stack_fffffffffffffed8,key,in_stack_fffffffffffffef8,
                      ~r0_02);
    (a->ctx).tab = extraout_RAX_05;
    pvVar8 = extraout_RBX_01;
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier2();
      *extraout_R11_03 = extraout_RBX_02;
      extraout_R11_03[1] = (extraout_RCX_02->ctx).data;
      pgVar4 = extraout_RCX_02;
      pvVar8 = extraout_RBX_02;
    }
    (pgVar4->ctx).data = pvVar8;
  }
  (*(code *)(pgVar4->t).tab[2].fun[0])
            ((pgVar4->t).data,(pgVar4->ctx).tab,(pgVar4->ctx).data,pgVar1->callHdr);
  if (extraout_RBX == (undefined1 *)0x0) {
    pgVar5 = extraout_RAX_00;
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier2();
      *extraout_R11 = extraout_RAX_01;
      extraout_R11[1] = a->s;
      pgVar5 = extraout_RAX_01;
    }
    a->s = pgVar5;
    pvVar8 = (pgVar5->ctx).data;
    (a->ctx).tab = (pgVar5->ctx).tab;
    pgVar4 = a;
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier2();
      *extraout_R11_00 = extraout_RBX_00;
      extraout_R11_00[1] = (extraout_RCX_00->ctx).data;
      pgVar4 = extraout_RCX_00;
      pvVar8 = extraout_RBX_00;
    }
    (pgVar4->ctx).data = pvVar8;
    runtime_newobject((internal_abi_Type *)&DAT_0085ce00,pvVar8);
    (extraout_RAX_02->r).tab =
         (runtime_itab *)go_itab__google_golang_org_grpc_internal_transport_Stream_io_Reader;
    pgVar6 = extraout_RAX_02;
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier1();
      *extraout_R11_01 = pgVar5;
      pgVar6 = extraout_RAX_03;
    }
    (pgVar6->r).data = pgVar5;
    pgVar2 = a->cs->cc;
    pvVar8 = (pgVar2->dopts).recvBufferPool.data;
    (pgVar6->recvBufferPool).tab = (pgVar2->dopts).recvBufferPool.tab;
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier3();
      *extraout_R11_02 = pvVar8;
      extraout_R11_02[1] = extraout_RAX_04;
      extraout_R11_02[2] = extraout_RCX_01->p;
      pgVar6 = extraout_RAX_04;
      a = extraout_RCX_01;
    }
    (pgVar6->recvBufferPool).data = pvVar8;
    a->p = pgVar6;
    return;
  }
  if (extraout_RBX != go_itab__google_golang_org_grpc_internal_transport_NewStreamError_error) {
    return;
  }
  if (*(char *)(extraout_RCX + 0x10) != '\0') {
    a->allowTransparentRetry = true;
  }
  ~r0_01.data = in_stack_fffffffffffffef0;
  ~r0_01.tab = (runtime_itab *)in_stack_fffffffffffffee8;
  google_golang_org_grpc_toRPCErr((error)in_stack_fffffffffffffed8,~r0_01);
  return;
}



// WARNING: Unknown calling convention

void google_golang_org_grpc___clientStream__commitAttempt(google_golang_org_grpc_clientStream *cs)

{
  sync_Mutex *psVar1;
  sync_Mutex *extraout_RCX;
  sync_Mutex *m;
  google_golang_org_grpc_clientStream *pgVar2;
  sdword sVar3;
  int32 new;
  undefined8 extraout_RSI;
  undefined8 *extraout_R11;
  int unaff_R14;
  bool bVar4;
  undefined in_XMM15 [16];
  google_golang_org_grpc_clientStream *pgStack0000000000000008;
  
  pgStack0000000000000008 = cs;
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  m = &pgStack0000000000000008->mu;
  LOCK();
  bVar4 = (pgStack0000000000000008->mu).state == 0;
  if (bVar4) {
    (pgStack0000000000000008->mu).state = 1;
  }
  UNLOCK();
  if (!bVar4) {
    sync___Mutex__lockSlow(m);
  }
  if ((pgStack0000000000000008->committed == false) &&
     (pgStack0000000000000008->onCommit != (func__ **)0x0)) {
    (**pgStack0000000000000008->onCommit)();
  }
  pgStack0000000000000008->committed = true;
  (pgStack0000000000000008->buffer).len = in_XMM15._0_8_;
  (pgStack0000000000000008->buffer).cap = in_XMM15._8_8_;
  pgVar2 = pgStack0000000000000008;
  if (runtime_writeBarrier._0_4_ != 0) {
    runtime_gcWriteBarrier1();
    *extraout_R11 = extraout_RSI;
    m = extraout_RCX;
  }
  (pgVar2->buffer).array = (func__google_golang_org_grpc_csAttempt__error ***)0x0;
  LOCK();
  psVar1 = &pgVar2->mu;
  sVar3 = psVar1->state;
  psVar1->state = psVar1->state + -1;
  UNLOCK();
  sVar3 = sVar3 + -1;
  if (sVar3 != 0) {
    sync___Mutex__unlockSlow(m,sVar3);
  }
  return;
}



void google_golang_org_grpc___csAttempt__shouldRetry
               (google_golang_org_grpc_csAttempt *a,error err,bool ~r0,error ~r1)

{
  google_golang_org_grpc_internal_transport_Stream *s;
  google_golang_org_genproto_googleapis_rpc_status_Status *pgVar1;
  int *piVar2;
  void **x;
  __uint8 val;
  google_golang_org_grpc_internal_channelz_Entity e;
  error ~r1_00;
  google_golang_org_grpc_internal_channelz_Entity e_00;
  uint32 extraout_EAX;
  google_golang_org_grpc_codes_Code code;
  char extraout_AL;
  bool unprocessed;
  runtime_hmap *extraout_RAX;
  google_golang_org_grpc_metadata_MD c;
  char *extraout_RAX_00;
  time_Duration extraout_RAX_01;
  undefined8 *extraout_RAX_02;
  time_Timer *t;
  int extraout_RAX_03;
  google_golang_org_grpc_internal_status_Status *pgVar3;
  int *extraout_RAX_04;
  int **extraout_RAX_05;
  int **extraout_RAX_06;
  int **ppiVar4;
  undefined8 *puVar5;
  undefined8 extraout_RAX_07;
  undefined8 *extraout_RAX_08;
  undefined8 *extraout_RAX_09;
  int **extraout_RAX_10;
  undefined8 extraout_RAX_11;
  int extraout_RAX_12;
  undefined8 extraout_RAX_13;
  bool ~r0_1;
  time_Duration d;
  time_Duration dur;
  sdword sVar6;
  google_golang_org_grpc_clientStream *cs;
  bool ~r0_00;
  bool ~r0_01;
  bool ~r0_02;
  bool ~r0_03;
  undefined7 in_register_00000019;
  time_Timer *extraout_RBX;
  int64 ~r0_04;
  time_Timer *extraout_RBX_00;
  time_Timer *~r0_05;
  void *~r0_06;
  int extraout_RBX_01;
  bool hasPushback;
  runtime_hmap *extraout_RDI;
  runtime_hmap *extraout_RDI_00;
  runtime_hmap *~r0_07;
  int pushback;
  uint32 key;
  int hint;
  int extraout_R8;
  google_golang_org_grpc_internal_serviceconfig_RetryPolicy *rp;
  int ~r0_08;
  bool ~r1_01;
  int **extraout_R11;
  undefined8 *extraout_R11_00;
  int unaff_R14;
  bool bVar7;
  double dVar8;
  float64 fact;
  float64 cur;
  float64 max;
  double dVar9;
  undefined in_XMM15 [16];
  void *pvVar10;
  interface___ in_stack_fffffffffffffd18;
  runtime_itab *in_stack_fffffffffffffd28;
  void *in_stack_fffffffffffffd30;
  string in_stack_fffffffffffffd38;
  __interface___ in_stack_fffffffffffffd48;
  uint16 local_278 [4];
  undefined8 *local_270;
  void **local_268;
  int *local_260;
  google_golang_org_grpc_internal_serviceconfig_RetryPolicy *local_258;
  google_golang_org_grpc_metadata_MD local_250;
  void *local_248;
  google_golang_org_grpc_clientStream *local_240;
  undefined8 local_238;
  undefined8 local_230;
  runtime_hmap *local_228;
  google_golang_org_grpc_internal_transport_Stream *local_220;
  undefined local_218 [16];
  runtime_scase local_208;
  undefined local_1f8 [16];
  undefined local_1e8 [24];
  void *pvStack_1d0;
  runtime_hiter local_1b8;
  undefined local_158 [336];
  
  while (&local_268 <= *(void ****)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  local_240 = a->cs;
  if (((local_240->finished != false) || (local_240->committed != false)) || (a->drop != false)) {
    return;
  }
  if (a->s == (google_golang_org_grpc_internal_transport_Stream *)0x0) {
    if (a->allowTransparentRetry != false) {
      return;
    }
    bVar7 = false;
  }
  else {
    runtime_chanrecv1((runtime_hchan *)a->s->done,(void *)0x0);
    bVar7 = a->s->unprocessed == 1;
  }
  pvVar10 = in_XMM15._8_8_;
  if ((local_240->firstAttempt != false) && (bVar7)) {
    return;
  }
  if ((local_240->cc->dopts).disableRetry != false) {
    return;
  }
  s = a->s;
  if (s == (google_golang_org_grpc_internal_transport_Stream *)0x0) {
    bVar7 = false;
    pushback = 0;
  }
  else {
    local_220 = s;
    google_golang_org_grpc_internal_transport___Stream__waitOnHeader(s);
    if (local_220->noHeaders == false) {
      return;
    }
    local_250 = a->s->trailer;
    if (local_250 == (google_golang_org_grpc_metadata_MD)0x0) {
      hint = 0;
    }
    else {
      hint = local_250->count;
    }
    ~r0_07 = extraout_RDI;
    unique0x100007a7 = in_XMM15;
    if (hint < 9) {
      pvStack_1d0 = in_XMM15._8_8_;
      FUN_0046cd54();
      local_1e8._16_8_ = local_158;
      ~r0_07 = extraout_RDI_00;
      hint = extraout_R8;
    }
    runtime_makemap((internal_abi_MapType *)&DAT_0087f400,hint,(runtime_hmap *)local_1e8,~r0_07);
    local_228 = extraout_RAX;
    FUN_0046cdab();
    runtime_mapiterinit((internal_abi_MapType *)&DAT_0087f400,(runtime_hmap *)local_250,&local_1b8);
    while (pvVar10 = in_XMM15._8_8_, (void **)local_1b8.key != (void **)0x0) {
                    // WARNING: Load size is inaccurate
      local_248 = *local_1b8.key;
      pvVar10 = *(void **)((int)local_1b8.elem + 8);
                    // WARNING: Load size is inaccurate
      runtime_makeslicecopy
                ((internal_abi_Type *)&DAT_008075e0,(int)pvVar10,(int)pvVar10,*local_1b8.elem,
                 local_248);
      local_238 = extraout_RAX_07;
      runtime_mapassign_faststr
                ((internal_abi_MapType *)&DAT_0087f400,local_228,(string)in_stack_fffffffffffffd18,
                 local_248);
      extraout_RAX_08[1] = pvVar10;
      extraout_RAX_08[2] = pvVar10;
      puVar5 = extraout_RAX_08;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_00 = local_238;
        extraout_R11_00[1] = *extraout_RAX_09;
        puVar5 = extraout_RAX_09;
      }
      *puVar5 = local_238;
      runtime_mapiternext(&local_1b8);
    }
    runtime_mapaccess1_faststr
              ((internal_abi_MapType *)&DAT_0087f400,local_228,(string)in_stack_fffffffffffffd18,
               &DAT_008b9ce3);
    piVar2 = extraout_RAX_10[1];
    x = (void **)*extraout_RAX_10;
    if (piVar2 == (int *)&DAT_00000001) {
      ~r1_00.data = in_stack_fffffffffffffd30;
      ~r1_00.tab = in_stack_fffffffffffffd28;
      local_268 = x;
      strconv_Atoi((string)in_stack_fffffffffffffd18,(int)*x,~r1_00);
      if ((extraout_RBX_01 != 0) || (pushback = extraout_RAX_12, extraout_RAX_12 < 0)) {
        runtime_convTstring((string)in_stack_fffffffffffffd18,*local_268);
        local_218._8_8_ = extraout_RAX_13;
        local_218._0_8_ = &DAT_008075e0;
        e_00.data = in_stack_fffffffffffffd30;
        e_00.tab = in_stack_fffffffffffffd28;
        google_golang_org_grpc_internal_channelz_Infof
                  ((google_golang_org_grpc_grpclog_DepthLoggerV2)in_stack_fffffffffffffd18,e_00,
                   in_stack_fffffffffffffd38,in_stack_fffffffffffffd48);
        google_golang_org_grpc___retryThrottler__throttle
                  (local_240->retryThrottler,~r0_03,SUB81(local_240,0));
        return;
      }
    }
    else {
      if (1 < (int)piVar2) {
        val.cap = (int)in_stack_fffffffffffffd28;
        val.array = (uint8 *)in_stack_fffffffffffffd18._type;
        val.len = (int)in_stack_fffffffffffffd18.data;
        runtime_convTslice(val,x);
        local_218._8_8_ = extraout_RAX_11;
        local_218._0_8_ = &DAT_00802320;
        e.data = in_stack_fffffffffffffd30;
        e.tab = in_stack_fffffffffffffd28;
        google_golang_org_grpc_internal_channelz_Warningf
                  ((google_golang_org_grpc_grpclog_DepthLoggerV2)in_stack_fffffffffffffd18,e,
                   in_stack_fffffffffffffd38,in_stack_fffffffffffffd48);
        google_golang_org_grpc___retryThrottler__throttle(local_240->retryThrottler,~r0_02,~r0_1);
        return;
      }
      pushback = 0;
    }
    bVar7 = piVar2 == (int *)&DAT_00000001;
  }
  if (a->s == (google_golang_org_grpc_internal_transport_Stream *)0x0) {
    google_golang_org_grpc_status_Code
              ((error)in_stack_fffffffffffffd18,
               (google_golang_org_grpc_codes_Code)CONCAT71(in_register_00000019,~r0));
    key = extraout_EAX;
  }
  else {
    pgVar3 = a->s->status;
    if ((pgVar3 == (google_golang_org_grpc_internal_status_Status *)0x0) ||
       (pgVar1 = pgVar3->s, pgVar1 == (google_golang_org_genproto_googleapis_rpc_status_Status *)0x0
       )) {
      key = 0;
    }
    else {
      key = pgVar1->Code;
    }
  }
  local_258 = local_240->methodConfig->RetryPolicy;
  if ((local_258 != (google_golang_org_grpc_internal_serviceconfig_RetryPolicy *)0x0) &&
     (runtime_mapaccess1_fast32
                ((internal_abi_MapType *)&DAT_0082b720,
                 (runtime_hmap *)local_258->RetryableStatusCodes,key,(void *)pushback),
     *extraout_RAX_00 != '\0')) {
    google_golang_org_grpc___retryThrottler__throttle
              (local_240->retryThrottler,~r0_00,SUB81(local_240,0));
    if (extraout_AL != '\0') {
      return;
    }
    if (local_240->numRetries + 1 < local_258->MaxAttempts) {
      if (bVar7) {
        local_240->numRetriesSincePushback = 0;
        d = pushback * 1000000;
        ~r0_05 = extraout_RBX;
      }
      else {
        dVar8 = math_pow((double)local_258->BackoffMultiplier,
                         (double)local_240->numRetriesSincePushback);
        dVar8 = (double)local_258->InitialBackoff * dVar8;
        dVar9 = (double)local_258->MaxBackoff;
        if (dVar8 <= (double)local_258->MaxBackoff) {
          dVar9 = dVar8;
        }
        math_rand_Int63n((int)dVar9,~r0_04);
        local_240->numRetriesSincePushback = local_240->numRetriesSincePushback + 1;
        d = extraout_RAX_01;
        ~r0_05 = extraout_RBX_00;
      }
      time_NewTimer(d,~r0_05);
      local_230 = *extraout_RAX_02;
      local_270 = extraout_RAX_02;
      local_208.c = (runtime_hchan *)(*(code *)(local_240->ctx).tab[1].inter)((local_240->ctx).data)
      ;
      local_1f8._8_8_ = pvVar10;
      local_1f8._0_8_ = local_230;
      local_208.elem = pvVar10;
      runtime_selectgo(&local_208,local_278,(uintptr *)0x0,0,2,true,~r0_08,~r1_01);
      if (extraout_RAX_03 == 0) {
        if (local_270[4] != 0) {
          time_stopTimer((runtime_timer *)(local_270 + 1),~r0_01);
          pgVar3 = (google_golang_org_grpc_internal_status_Status *)
                   (*(code *)(local_240->ctx).tab[1]._type)((local_240->ctx).data);
          google_golang_org_grpc_status_FromContextError((error)in_stack_fffffffffffffd18,pgVar3);
          if ((extraout_RAX_04 == (int *)0x0) || (*extraout_RAX_04 == 0)) {
            sVar6 = 0;
          }
          else {
            sVar6 = *(sdword *)(*extraout_RAX_04 + 0x28);
          }
          if (sVar6 != 0) {
            local_260 = extraout_RAX_04;
            runtime_newobject((internal_abi_Type *)&DAT_00842760,~r0_06);
            ppiVar4 = extraout_RAX_05;
            if (runtime_writeBarrier._0_4_ != 0) {
              runtime_gcWriteBarrier1();
              *extraout_R11 = local_260;
              ppiVar4 = extraout_RAX_06;
            }
            *ppiVar4 = local_260;
          }
          return;
        }
                    // WARNING: Subroutine does not return
        runtime_gopanic(in_stack_fffffffffffffd18);
      }
      local_240->numRetries = local_240->numRetries + 1;
      return;
    }
    return;
  }
  return;
}



void google_golang_org_grpc___clientStream__retryLocked
               (google_golang_org_grpc_clientStream *cs,google_golang_org_grpc_csAttempt *attempt,
               error lastErr,error ~r0)

{
  int iVar1;
  func__google_golang_org_grpc_csAttempt__error *pfVar2;
  error ~r0_00;
  error ~r1;
  bool isTransparent_00;
  bool isTransparent;
  google_golang_org_grpc_csAttempt *extraout_RAX;
  int in_RCX;
  func__google_golang_org_grpc_csAttempt__error **f;
  func__google_golang_org_grpc_csAttempt__error ***pppfVar3;
  int iVar4;
  int extraout_RBX;
  int extraout_RBX_00;
  google_golang_org_grpc_clientStream *extraout_RSI;
  undefined8 *extraout_R11;
  int unaff_R14;
  undefined in_XMM15 [16];
  error in_stack_ffffffffffffff98;
  runtime_itab *in_stack_ffffffffffffffa8;
  void *in_stack_ffffffffffffffb0;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  do {
    ~r0_00.data = in_stack_ffffffffffffffb0;
    ~r0_00.tab = in_stack_ffffffffffffffa8;
    google_golang_org_grpc_toRPCErr(in_stack_ffffffffffffff98,~r0_00);
    google_golang_org_grpc___csAttempt__finish(attempt,in_stack_ffffffffffffff98);
    ~r1.data = in_stack_ffffffffffffffb0;
    ~r1.tab = in_stack_ffffffffffffffa8;
    google_golang_org_grpc___csAttempt__shouldRetry
              (attempt,in_stack_ffffffffffffff98,SUB81(in_RCX,0),~r1);
    if (extraout_RBX != 0) {
      if ((cs->committed == false) && (cs->onCommit != (func__ **)0x0)) {
        (**cs->onCommit)();
      }
      cs->committed = true;
      (cs->buffer).len = in_XMM15._0_8_;
      (cs->buffer).cap = in_XMM15._8_8_;
      if (runtime_writeBarrier._0_4_ != 0) {
        pppfVar3 = (cs->buffer).array;
        runtime_gcWriteBarrier1();
        *extraout_R11 = pppfVar3;
        cs = extraout_RSI;
      }
      (cs->buffer).array = (func__google_golang_org_grpc_csAttempt__error ***)0x0;
      return;
    }
    cs->firstAttempt = false;
    google_golang_org_grpc___clientStream__newAttemptLocked
              (cs,isTransparent_00,(google_golang_org_grpc_csAttempt *)cs,in_stack_ffffffffffffff98)
    ;
    if (extraout_RBX_00 != 0) {
      return;
    }
    pppfVar3 = (cs->buffer).array;
    iVar1 = (cs->buffer).len;
    for (iVar4 = 0; iVar4 < iVar1; iVar4 = iVar4 + 1) {
      pfVar2 = *pppfVar3[iVar4];
      in_RCX = (*pfVar2)(extraout_RAX,(error *)pfVar2);
      if (in_RCX != 0) goto LAB_007af5ec;
    }
    in_RCX = 0;
LAB_007af5ec:
    attempt = extraout_RAX;
    if (in_RCX == 0) {
      return;
    }
  } while( true );
}



void google_golang_org_grpc___clientStream__Context
               (google_golang_org_grpc_clientStream *cs,context_Context ~r0)

{
  int unaff_R14;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  google_golang_org_grpc___clientStream__commitAttempt(cs);
  if (cs->attempt->s != (google_golang_org_grpc_internal_transport_Stream *)0x0) {
    return;
  }
  return;
}



void google_golang_org_grpc___clientStream__withRetry
               (google_golang_org_grpc_clientStream *cs,
               func__google_golang_org_grpc_csAttempt__error **op,func__ **onSuccess,error ~r0)

{
  sync_Mutex *m;
  sync_Mutex *psVar1;
  google_golang_org_grpc_internal_status_Status *pgVar2;
  google_golang_org_genproto_googleapis_rpc_status_Status *pgVar3;
  runtime_itab *prVar4;
  char extraout_AL;
  char cVar5;
  char extraout_AL_00;
  google_golang_org_grpc_csAttempt *extraout_RAX;
  google_golang_org_grpc_csAttempt *extraout_RAX_00;
  google_golang_org_grpc_csAttempt *pgVar6;
  google_golang_org_grpc_csAttempt *a;
  int32 new_1;
  int32 new_4;
  runtime_itab *tab;
  int extraout_RAX_01;
  int32 new_2;
  int32 new_3;
  int extraout_RBX;
  int extraout_RBX_00;
  int iVar7;
  void *x;
  sdword sVar8;
  int32 new;
  int32 iVar9;
  google_golang_org_grpc_csAttempt **extraout_R11;
  int unaff_R14;
  bool bVar10;
  undefined auVar11 [16];
  google_golang_org_grpc_csAttempt *pgStack0000000000000018;
  error in_stack_ffffffffffffff98;
  error in_stack_ffffffffffffffa8;
  
  pgStack0000000000000018 = (google_golang_org_grpc_csAttempt *)onSuccess;
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  m = &cs->mu;
  LOCK();
  bVar10 = (cs->mu).state == 0;
  if (bVar10) {
    (cs->mu).state = 1;
  }
  UNLOCK();
  if (!bVar10) {
    sync___Mutex__lockSlow(m);
  }
  while( true ) {
    do {
      if (cs->committed != false) {
        LOCK();
        psVar1 = &cs->mu;
        sVar8 = psVar1->state;
        psVar1->state = psVar1->state + -1;
        UNLOCK();
        sVar8 = sVar8 + -1;
        if (sVar8 != 0) {
          sync___Mutex__unlockSlow(m,sVar8);
        }
        (**op)(cs->attempt,(error *)op);
        google_golang_org_grpc_toRPCErr(in_stack_ffffffffffffff98,in_stack_ffffffffffffffa8);
        return;
      }
      if ((cs->buffer).len == 0) {
        google_golang_org_grpc___clientStream__newAttemptLocked
                  (cs,false,pgStack0000000000000018,in_stack_ffffffffffffff98);
        pgVar6 = extraout_RAX;
        iVar7 = extraout_RBX;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11 = extraout_RAX_00;
          extraout_R11[1] = cs->attempt;
          pgVar6 = extraout_RAX_00;
          iVar7 = extraout_RBX_00;
        }
        cs->attempt = pgVar6;
        if (iVar7 != 0) {
          LOCK();
          psVar1 = &cs->mu;
          sVar8 = psVar1->state;
          psVar1->state = psVar1->state + -1;
          UNLOCK();
          sVar8 = sVar8 + -1;
          if (sVar8 != 0) {
            sync___Mutex__unlockSlow(m,sVar8);
          }
          google_golang_org_grpc___clientStream__finish(cs,in_stack_ffffffffffffff98);
          return;
        }
      }
      pgVar6 = cs->attempt;
      LOCK();
      psVar1 = &cs->mu;
      sVar8 = psVar1->state;
      psVar1->state = psVar1->state + -1;
      UNLOCK();
      sVar8 = sVar8 + -1;
      if (sVar8 != 0) {
        sync___Mutex__unlockSlow(m,sVar8);
      }
      auVar11 = (**op)(pgVar6,(error *)op);
      x = auVar11._8_8_;
      tab = auVar11._0_8_;
      LOCK();
      bVar10 = (cs->mu).state == 0;
      if (bVar10) {
        (cs->mu).state = 1;
      }
      UNLOCK();
      if (!bVar10) {
        sync___Mutex__lockSlow(m);
      }
    } while (cs->attempt != pgVar6);
    if ((io_EOF.tab == tab) && (runtime_ifaceeq(tab,x,io_EOF.data,true), extraout_AL != '\0')) {
      runtime_chanrecv1((runtime_hchan *)pgVar6->s->done,(void *)0x0);
    }
    if (tab == (runtime_itab *)0x0) {
      bVar10 = true;
    }
    else {
      if (io_EOF.tab == tab) {
        runtime_ifaceeq(tab,x,io_EOF.data,true);
        cVar5 = extraout_AL_00;
      }
      else {
        cVar5 = '\0';
      }
      if (cVar5 == '\0') {
        bVar10 = false;
      }
      else {
        pgVar2 = pgVar6->s->status;
        if ((pgVar2 == (google_golang_org_grpc_internal_status_Status *)0x0) ||
           (pgVar3 = pgVar2->s,
           pgVar3 == (google_golang_org_genproto_googleapis_rpc_status_Status *)0x0)) {
          iVar9 = 0;
        }
        else {
          iVar9 = pgVar3->Code;
        }
        bVar10 = iVar9 == 0;
      }
    }
    if (bVar10) break;
    google_golang_org_grpc___clientStream__retryLocked
              (cs,pgVar6,in_stack_ffffffffffffff98,in_stack_ffffffffffffffa8);
    if (extraout_RAX_01 != 0) {
      LOCK();
      psVar1 = &cs->mu;
      sVar8 = psVar1->state;
      psVar1->state = psVar1->state + -1;
      UNLOCK();
      sVar8 = sVar8 + -1;
      if (sVar8 != 0) {
        sync___Mutex__unlockSlow(m,sVar8);
      }
      return;
