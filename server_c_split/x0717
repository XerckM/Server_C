                                        -((int)c.n.data - (int)extraout_RAX_00) >> 0x3f) + c._0_8_))
        ;
        local_48._8_8_ = extraout_RAX_02;
        local_48._0_8_ = &DAT_00801a20;
        val_00.len = in_stack_fffffffffffffe80;
        val_00.array = in_stack_fffffffffffffe78;
        val_00.cap = (int)in_stack_fffffffffffffe88;
        runtime_convTslice(val_00,(void *)c._0_8_);
        local_38._8_8_ = extraout_RAX_03;
        local_38._0_8_ = &DAT_00801a20;
        format.len = in_stack_fffffffffffffe80;
        format.str = in_stack_fffffffffffffe78;
        a.len = (int)in_stack_fffffffffffffe90;
        a.array = (interface___ *)in_stack_fffffffffffffe88;
        a.cap = (int)in_stack_fffffffffffffe98;
        fmt_Sprintf(format,a,in_stack_fffffffffffffea0);
        pvVar10 = ~r0_06;
        local_d0 = extraout_RAX_04;
        runtime_newobject((internal_abi_Type *)&DAT_00881b60,~r0_06);
        *extraout_RAX_05 = 2;
        *(undefined (*) [16])(extraout_RAX_05 + 1) = in_XMM15;
        *(undefined (*) [16])(extraout_RAX_05 + 3) = in_XMM15;
        extraout_RAX_05[5] = 0;
        extraout_RAX_05[7] = pvVar10;
        puVar6 = extraout_RAX_05;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier1();
          *extraout_R11 = local_d0;
          puVar6 = extraout_RAX_06;
        }
        puVar6[6] = local_d0;
        return;
      }
                    // WARNING: Subroutine does not return
      runtime_panicSliceB();
    }
  }
  if (c.n.tab != n) {
    if ((((byte)s.array == 7) && (in_R8B == '\x01')) && (in_SIL == '\x02')) {
      if (c.n.data < n) {
                    // WARNING: Subroutine does not return
        runtime_panicSliceAcap();
      }
      ~r0_01.len = in_stack_fffffffffffffe80;
      ~r0_01.str = in_stack_fffffffffffffe78;
      runtime_slicebytetostring
                ((runtime_tmpBuf *)&stack0xfffffffffffffee0,(uint8 *)c._0_8_,(int)n,~r0_01);
      mimeType.len = in_stack_fffffffffffffe80;
      mimeType.str = in_stack_fffffffffffffe78;
      html_template_isJSType(mimeType,~r0_05);
    }
    return;
  }
  ~r0_00.len = in_stack_fffffffffffffe80;
  ~r0_00.str = in_stack_fffffffffffffe78;
  runtime_slicebytetostring(&local_100,(uint8 *)c._0_8_,(int)c.n.tab,~r0_00);
  s_00.len = in_stack_fffffffffffffe80;
  s_00.str = in_stack_fffffffffffffe78;
  ~r0_02.len = (int)in_stack_fffffffffffffe90;
  ~r0_02.str = in_stack_fffffffffffffe88;
  html_UnescapeString(s_00,~r0_02);
  s_01.len = in_stack_fffffffffffffe80;
  s_01.str = in_stack_fffffffffffffe78;
  ~r0_03.len = (int)in_stack_fffffffffffffe90;
  ~r0_03.array = in_stack_fffffffffffffe88;
  ~r0_03.cap = (int)in_stack_fffffffffffffe98;
  runtime_stringtoslicebyte((runtime_tmpBuf *)0x0,s_01,~r0_03);
  iVar7 = extraout_RAX_01;
  iVar9 = extraout_RCX;
  phVar8 = extraout_RBX;
  s.array._1_1_ = in_BL;
  while( true ) {
    if (phVar8 == (html_template_Error *)0x0) {
      return;
    }
    if (0x1b < (byte)s.array) break;
    local_d8 = html_template_transitionFunc[(byte)s.array];
    hVar3.n.tab = (runtime_itab *)phVar8;
    hVar3.state = (char)iVar7;
    hVar3.delim = (char)((uint)iVar7 >> 8);
    hVar3.urlPart = (char)((uint)iVar7 >> 0x10);
    hVar3.jsCtx = (char)((uint)iVar7 >> 0x18);
    hVar3.attr = (char)((uint)iVar7 >> 0x20);
    hVar3.element = (char)((uint)iVar7 >> 0x28);
    hVar3._6_2_ = (short)((uint)iVar7 >> 0x30);
    hVar3.n.data = (void *)iVar9;
    hVar3.err = in_stack_fffffffffffffe90;
    _Var5.len = (int)in_stack_fffffffffffffea0.str;
    _Var5.cap = in_stack_fffffffffffffea0.len;
    _Var5.array = in_stack_fffffffffffffe98;
    local_e0 = iVar7;
    s.array._0_1_ =
         (**local_d8)(hVar3,_Var5,(html_template_context *)(uint)(byte)s.array,
                      (int *)(uint)s.array._1_1_);
    local_a8 = CONCAT13(extraout_DIL,CONCAT12(extraout_CL,CONCAT11(extraout_BL,(byte)s.array)));
    local_28 = local_a8;
    uStack_24 = uStack_a4;
    uStack_a0._0_4_ = (undefined4)extraout_R9;
    uStack_20 = (undefined4)uStack_a0;
    uStack_a0._4_4_ = (undefined4)((uint)extraout_R9 >> 0x20);
    uStack_1c = uStack_a0._4_4_;
    local_98._0_4_ = (undefined4)extraout_R10;
    local_18 = (undefined4)local_98;
    local_98._4_4_ = (undefined4)((uint)extraout_R10 >> 0x20);
    uStack_14 = local_98._4_4_;
    uStack_90._0_4_ = (undefined4)extraout_R11_00;
    uStack_10 = (undefined4)uStack_90;
    uStack_90._4_4_ = (undefined4)((uint)extraout_R11_00 >> 0x20);
    uStack_c = uStack_90._4_4_;
    uStack_a0 = extraout_R9;
    local_98 = extraout_R10;
    uStack_90 = extraout_R11_00;
    if (phVar8 < in_stack_fffffffffffffe90) {
                    // WARNING: Subroutine does not return
      runtime_panicSliceB();
    }
    iVar9 = iVar9 - (int)in_stack_fffffffffffffe90;
    phVar8 = (html_template_Error *)((int)phVar8 - (int)in_stack_fffffffffffffe90);
    iVar7 = local_e0 + (-iVar9 >> 0x3f & (uint)in_stack_fffffffffffffe90);
    s.array._1_1_ = extraout_BL;
  }
                    // WARNING: Subroutine does not return
  runtime_panicIndex();
}



void html_template___escaper__editActionNode
               (html_template_escaper *e,text_template_parse_ActionNode *n,__string cmds)

{
  char extraout_BL;
  bool ok;
  undefined8 *extraout_RAX;
  undefined8 *extraout_RAX_00;
  undefined8 *puVar1;
  void *x;
  undefined8 in_RCX;
  undefined8 in_RSI;
  void *in_RDI;
  void *~r0;
  undefined8 *extraout_R11;
  int unaff_R14;
  void *pvStack0000000000000020;
  undefined8 uStack0000000000000028;
  interface___ in_stack_ffffffffffffffc0;
  __interface___ in_stack_ffffffffffffffd0;
  string ~r0_00;
  
  uStack0000000000000028 = in_RSI;
  pvStack0000000000000020 = in_RDI;
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  runtime_mapaccess2_fast64
            ((internal_abi_MapType *)&DAT_0082fd40,(runtime_hmap *)e->actionNodeEdits,(uint64)n,
             pvStack0000000000000020,SUB81(uStack0000000000000028,0));
  if (extraout_BL != '\0') {
    ~r0_00.len = (int)n;
    ~r0_00.str = &DAT_00865b00;
    fmt_Sprintf((string)in_stack_ffffffffffffffc0,in_stack_ffffffffffffffd0,~r0_00);
    runtime_convTstring((string)in_stack_ffffffffffffffc0,x);
                    // WARNING: Subroutine does not return
    runtime_gopanic(in_stack_ffffffffffffffc0);
  }
  runtime_mapassign_fast64ptr
            ((internal_abi_MapType *)&DAT_0082fd40,(runtime_hmap *)e->actionNodeEdits,n,~r0);
  extraout_RAX[1] = pvStack0000000000000020;
  extraout_RAX[2] = uStack0000000000000028;
  puVar1 = extraout_RAX;
  if (runtime_writeBarrier._0_4_ != 0) {
    runtime_gcWriteBarrier2();
    *extraout_R11 = in_RCX;
    extraout_R11[1] = *extraout_RAX_00;
    puVar1 = extraout_RAX_00;
  }
  *puVar1 = in_RCX;
  return;
}



void html_template___escaper__editTemplateNode
               (html_template_escaper *e,text_template_parse_TemplateNode *n,string callee)

{
  char extraout_BL;
  bool ok;
  undefined8 *extraout_RAX;
  undefined8 *extraout_RAX_00;
  undefined8 *puVar1;
  void *x;
  undefined8 in_RCX;
  undefined8 in_RSI;
  undefined8 extraout_RSI;
  void *in_RDI;
  void *~r0;
  undefined8 *extraout_R11;
  int unaff_R14;
  undefined8 uStack0000000000000018;
  void *pvStack0000000000000020;
  interface___ in_stack_ffffffffffffffc0;
  __interface___ in_stack_ffffffffffffffd0;
  string ~r0_00;
  
  uStack0000000000000018 = in_RCX;
  pvStack0000000000000020 = in_RDI;
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
    in_RSI = extraout_RSI;
  }
  runtime_mapaccess2_fast64
            ((internal_abi_MapType *)&DAT_0082fda0,(runtime_hmap *)e->templateNodeEdits,(uint64)n,
             pvStack0000000000000020,SUB81(in_RSI,0));
  if (extraout_BL != '\0') {
    ~r0_00.len = (int)n;
    ~r0_00.str = &DAT_00866580;
    fmt_Sprintf((string)in_stack_ffffffffffffffc0,in_stack_ffffffffffffffd0,~r0_00);
    runtime_convTstring((string)in_stack_ffffffffffffffc0,x);
                    // WARNING: Subroutine does not return
    runtime_gopanic(in_stack_ffffffffffffffc0);
  }
  runtime_mapassign_fast64ptr
            ((internal_abi_MapType *)&DAT_0082fda0,(runtime_hmap *)e->templateNodeEdits,n,~r0);
  extraout_RAX[1] = pvStack0000000000000020;
  puVar1 = extraout_RAX;
  if (runtime_writeBarrier._0_4_ != 0) {
    runtime_gcWriteBarrier2();
    *extraout_R11 = uStack0000000000000018;
    extraout_R11[1] = *extraout_RAX_00;
    puVar1 = extraout_RAX_00;
  }
  *puVar1 = uStack0000000000000018;
  return;
}



void html_template___escaper__editTextNode
               (html_template_escaper *e,text_template_parse_TextNode *n,__uint8 text)

{
  char extraout_BL;
  bool ok;
  undefined8 *extraout_RAX;
  undefined8 *extraout_RAX_00;
  undefined8 *puVar1;
  void *x;
  undefined8 in_RCX;
  undefined8 in_RSI;
  void *in_RDI;
  void *~r0;
  undefined8 *extraout_R11;
  int unaff_R14;
  void *pvStack0000000000000020;
  undefined8 uStack0000000000000028;
  interface___ in_stack_ffffffffffffffc0;
  __interface___ in_stack_ffffffffffffffd0;
  string ~r0_00;
  
  uStack0000000000000028 = in_RSI;
  pvStack0000000000000020 = in_RDI;
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  runtime_mapaccess2_fast64
            ((internal_abi_MapType *)&DAT_0082fe00,(runtime_hmap *)e->textNodeEdits,(uint64)n,
             pvStack0000000000000020,SUB81(uStack0000000000000028,0));
  if (extraout_BL != '\0') {
    ~r0_00.len = (int)n;
    ~r0_00.str = &DAT_00866640;
    fmt_Sprintf((string)in_stack_ffffffffffffffc0,in_stack_ffffffffffffffd0,~r0_00);
    runtime_convTstring((string)in_stack_ffffffffffffffc0,x);
                    // WARNING: Subroutine does not return
    runtime_gopanic(in_stack_ffffffffffffffc0);
  }
  runtime_mapassign_fast64ptr
            ((internal_abi_MapType *)&DAT_0082fe00,(runtime_hmap *)e->textNodeEdits,n,~r0);
  extraout_RAX[1] = pvStack0000000000000020;
  extraout_RAX[2] = uStack0000000000000028;
  puVar1 = extraout_RAX;
  if (runtime_writeBarrier._0_4_ != 0) {
    runtime_gcWriteBarrier2();
    *extraout_R11 = in_RCX;
    extraout_R11[1] = *extraout_RAX_00;
    puVar1 = extraout_RAX_00;
  }
  *puVar1 = in_RCX;
  return;
}



// WARNING: Unknown calling convention

void html_template___escaper__commit(html_template_escaper *e)

{
  text_template_parse_Tree **pptVar1;
  __string s;
  error ~r1;
  error ~r1_1;
  text_template_Template *t_00;
  runtime_hmap *extraout_RAX;
  runtime_hmap *extraout_RAX_00;
  runtime_hmap *~r0;
  map_string_bool extraout_RAX_01;
  map_string_bool extraout_RAX_02;
  map_string_bool ~r0_00;
  map__text_template_parse_ActionNode___string extraout_RAX_03;
  map__text_template_parse_ActionNode___string extraout_RAX_04;
  map__text_template_parse_ActionNode___string ~r0_01;
  map__text_template_parse_TemplateNode_string extraout_RAX_05;
  map__text_template_parse_TemplateNode_string extraout_RAX_06;
  map__text_template_parse_TemplateNode_string ~r0_02;
  map__text_template_parse_TextNode___uint8 extraout_RAX_07;
  map__text_template_parse_TextNode___uint8 extraout_RAX_08;
  map__text_template_parse_TextNode___uint8 phVar2;
  text_template_Template *~r0_03;
  text_template_parse_TemplateNode *n_1;
  int extraout_RCX;
  int iVar3;
  text_template_parse_TextNode *n_2;
  int extraout_RCX_00;
  text_template_Template *t;
  text_template_parse_ActionNode *n;
  undefined8 uVar4;
  undefined8 uVar5;
  runtime_hmap *h;
  runtime_hmap *h_00;
  runtime_hmap *h_01;
  int extraout_RBX;
  runtime_hmap *h_02;
  runtime_hmap *h_03;
  runtime_hmap *h_04;
  html_template_Template *tmpl;
  text_template_Template *~r0_1;
  undefined8 *extraout_R11;
  undefined8 *extraout_R11_00;
  map_string_bool *extraout_R11_01;
  map__text_template_parse_ActionNode___string *extraout_R11_02;
  map__text_template_parse_TemplateNode_string *extraout_R11_03;
  map__text_template_parse_TextNode___uint8 *extraout_R11_04;
  int unaff_R14;
  html_template_escaper *phStack0000000000000008;
  interface___ in_stack_fffffffffffffd90;
  runtime_itab *in_stack_fffffffffffffda0;
  void *in_stack_fffffffffffffda8;
  runtime_itab *prVar6;
  int *in_stack_fffffffffffffdb8;
  undefined8 *local_240;
  undefined local_1f0 [8];
  runtime_hiter local_1e8;
  runtime_hiter local_188;
  runtime_hiter local_128;
  runtime_hiter local_c8;
  runtime_hiter local_68;
  
  phStack0000000000000008 = e;
  while (local_1f0 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  FUN_0046cdab();
  runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fc80,h,&local_68);
  while ((text_template_Template **)local_68.key != (text_template_Template **)0x0) {
                    // WARNING: Load size is inaccurate
    html_template___escaper__template
              (phStack0000000000000008,(string)in_stack_fffffffffffffd90,*local_68.key);
    text_template___Template__Funcs(t_00,html_template_funcMap,~r0_03,~r0_1);
    runtime_mapiternext(&local_68);
  }
  FUN_0046cdab();
  runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fc20,h_00,&local_c8);
  if (local_c8.key == (void *)0x0) {
                    // WARNING: Subroutine does not return
    runtime_gopanic(in_stack_fffffffffffffd90);
  }
                    // WARNING: Load size is inaccurate
  prVar6 = *local_c8.elem;
  FUN_0046cdab();
  runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fce0,h_01,&local_128);
  while( true ) {
    if (local_128.key == (void *)0x0) {
      FUN_0046cdab();
      runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fd40,h_02,&local_188);
      while ((int *)local_188.key != (int *)0x0) {
                    // WARNING: Load size is inaccurate
        s.cap = (int)in_stack_fffffffffffffda0;
        s.array = (string *)in_stack_fffffffffffffd90._type;
        s.len = (int)in_stack_fffffffffffffd90.data;
        html_template_ensurePipelineContains
                  (*(text_template_parse_PipeNode **)(*local_188.key + 0x20),s);
        runtime_mapiternext(&local_188);
      }
      FUN_0046cdab();
      runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fda0,h_03,&local_1e8);
      while ((int *)local_1e8.key != (int *)0x0) {
                    // WARNING: Load size is inaccurate
        iVar3 = *local_1e8.key;
                    // WARNING: Load size is inaccurate
        uVar4 = *local_1e8.elem;
        *(undefined8 *)(iVar3 + 0x28) = *(undefined8 *)((int)local_1e8.elem + 8);
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11 = uVar4;
          extraout_R11[1] = *(undefined8 *)(extraout_RCX + 0x20);
          iVar3 = extraout_RCX;
        }
        *(undefined8 *)(iVar3 + 0x20) = uVar4;
        runtime_mapiternext(&local_1e8);
      }
      FUN_0046cdab();
      runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fe00,h_04,
                          (runtime_hiter *)&stack0xfffffffffffffdb8);
      ~r0 = extraout_RAX;
      while (in_stack_fffffffffffffdb8 != (int *)0x0) {
        iVar3 = *in_stack_fffffffffffffdb8;
        uVar4 = local_240[2];
        uVar5 = *local_240;
        *(undefined8 *)(iVar3 + 0x20) = local_240[1];
        *(undefined8 *)(iVar3 + 0x28) = uVar4;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11_00 = uVar5;
          extraout_R11_00[1] = *(undefined8 *)(extraout_RCX_00 + 0x18);
          iVar3 = extraout_RCX_00;
        }
        *(undefined8 *)(iVar3 + 0x18) = uVar5;
        runtime_mapiternext((runtime_hiter *)&stack0xfffffffffffffdb8);
        ~r0 = extraout_RAX_00;
      }
      runtime_makemap_small(~r0);
      ~r0_00 = extraout_RAX_01;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_01 = extraout_RAX_02;
        extraout_R11_01[1] = phStack0000000000000008->called;
        ~r0_00 = extraout_RAX_02;
      }
      phStack0000000000000008->called = ~r0_00;
      runtime_makemap_small((runtime_hmap *)~r0_00);
      ~r0_01 = extraout_RAX_03;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_02 = extraout_RAX_04;
        extraout_R11_02[1] = phStack0000000000000008->actionNodeEdits;
        ~r0_01 = extraout_RAX_04;
      }
      phStack0000000000000008->actionNodeEdits = ~r0_01;
      runtime_makemap_small((runtime_hmap *)~r0_01);
      ~r0_02 = extraout_RAX_05;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_03 = extraout_RAX_06;
        extraout_R11_03[1] = phStack0000000000000008->templateNodeEdits;
        ~r0_02 = extraout_RAX_06;
      }
      phStack0000000000000008->templateNodeEdits = ~r0_02;
      runtime_makemap_small((runtime_hmap *)~r0_02);
      phVar2 = extraout_RAX_07;
      if (runtime_writeBarrier._0_4_ != 0) {
        runtime_gcWriteBarrier2();
        *extraout_R11_04 = extraout_RAX_08;
        extraout_R11_04[1] = phStack0000000000000008->textNodeEdits;
        phVar2 = extraout_RAX_08;
      }
      phStack0000000000000008->textNodeEdits = phVar2;
      return;
    }
                    // WARNING: Load size is inaccurate
    pptVar1 = *local_128.elem;
    ~r1.data = in_stack_fffffffffffffda8;
    ~r1.tab = in_stack_fffffffffffffda0;
    ~r1_1.data = in_stack_fffffffffffffdb8;
    ~r1_1.tab = prVar6;
    text_template___Template__AddParseTree
              (*(text_template_Template **)&prVar6->hash,(string)in_stack_fffffffffffffd90,*pptVar1,
               (text_template_Template *)pptVar1[1],(text_template_Template *)pptVar1[2],~r1,~r1_1);
    if (extraout_RBX != 0) break;
    runtime_mapiternext(&local_128);
  }
                    // WARNING: Subroutine does not return
  runtime_gopanic(in_stack_fffffffffffffd90);
}



void html_template___escaper__template
               (html_template_escaper *e,string name,text_template_Template *~r0)

{
  int extraout_RAX;
  text_template_Template *t;
  text_template_Template *in_RCX;
  map_string__html_template_Template h;
  html_template_Template *t_1;
  int unaff_R14;
  text_template_Template *ptStack0000000000000018;
  interface___ in_stack_ffffffffffffff78;
  runtime_hiter local_68;
  
  ptStack0000000000000018 = in_RCX;
  while (&stack0xfffffffffffffff8 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  h = e->ns->set;
  FUN_0046cdab();
  runtime_mapiterinit((internal_abi_MapType *)&DAT_0082fc20,(runtime_hmap *)h,&local_68);
  if (local_68.key != (void *)0x0) {
                    // WARNING: Load size is inaccurate
    text_template___Template__Lookup
              (*(text_template_Template **)(*local_68.elem + 0x10),(string)in_stack_ffffffffffffff78
               ,~r0,ptStack0000000000000018);
    if (extraout_RAX == 0) {
      runtime_mapaccess1_faststr
                ((internal_abi_MapType *)&DAT_0082fce0,(runtime_hmap *)e->derived,
                 (string)in_stack_ffffffffffffff78,~r0);
    }
    return;
  }
                    // WARNING: Subroutine does not return
  runtime_gopanic(in_stack_ffffffffffffff78);
}



void html_template_htmlNospaceEscaper(__interface___ args,string ~r0)

{
  __interface___ args_00;
  string ~r0_00;
  __string replacementTable;
  __string replacementTable_00;
  string ~r0_01;
  string ~r0_02;
  string ~r0_03;
  html_template_contentType in_AL;
  bool badRunes;
  bool badRunes_00;
  char extraout_CL;
  html_template_contentType t;
  int extraout_RBX;
  int unaff_RBP;
  int unaff_R14;
  string in_stack_ffffffffffffffc8;
  uint8 *in_stack_ffffffffffffffd8;
  uint8 *in_stack_ffffffffffffffe0;
  int in_stack_ffffffffffffffe8;
  uint8 *in_stack_fffffffffffffff0;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  args_00.cap = (int)in_stack_ffffffffffffffd8;
  args_00.array = (interface___ *)in_stack_ffffffffffffffc8.str;
  args_00.len = in_stack_ffffffffffffffc8.len;
  ~r0_01.len = in_stack_ffffffffffffffe8;
  ~r0_01.str = in_stack_ffffffffffffffe0;
  html_template_stringify(args_00,~r0_01,in_AL);
  if (extraout_RBX != 0) {
    if (extraout_CL == '\x02') {
      ~r0_00.len = (int)in_stack_ffffffffffffffe0;
      ~r0_00.str = in_stack_ffffffffffffffd8;
      html_template_stripTags(in_stack_ffffffffffffffc8,~r0_00);
      replacementTable.len = (int)in_stack_ffffffffffffffe0;
      replacementTable.array = (string *)in_stack_ffffffffffffffd8;
      replacementTable.cap = in_stack_ffffffffffffffe8;
      ~r0_02.len = unaff_RBP;
      ~r0_02.str = in_stack_fffffffffffffff0;
      html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable,badRunes_00,~r0_02);
      return;
    }
    replacementTable_00.len = (int)in_stack_ffffffffffffffe0;
    replacementTable_00.array = (string *)in_stack_ffffffffffffffd8;
    replacementTable_00.cap = in_stack_ffffffffffffffe8;
    ~r0_03.len = unaff_RBP;
    ~r0_03.str = in_stack_fffffffffffffff0;
    html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable_00,badRunes,~r0_03);
    return;
  }
  return;
}



void html_template_attrEscaper(__interface___ args,string ~r0)

{
  __interface___ args_00;
  string ~r0_00;
  __string replacementTable;
  __string replacementTable_00;
  string ~r0_01;
  string ~r0_02;
  string ~r0_03;
  html_template_contentType in_AL;
  bool badRunes;
  bool badRunes_00;
  char extraout_CL;
  html_template_contentType t;
  int unaff_RBP;
  int unaff_R14;
  string in_stack_ffffffffffffffc8;
  uint8 *in_stack_ffffffffffffffd8;
  uint8 *in_stack_ffffffffffffffe0;
  int in_stack_ffffffffffffffe8;
  uint8 *in_stack_fffffffffffffff0;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  args_00.cap = (int)in_stack_ffffffffffffffd8;
  args_00.array = (interface___ *)in_stack_ffffffffffffffc8.str;
  args_00.len = in_stack_ffffffffffffffc8.len;
  ~r0_01.len = in_stack_ffffffffffffffe8;
  ~r0_01.str = in_stack_ffffffffffffffe0;
  html_template_stringify(args_00,~r0_01,in_AL);
  if (extraout_CL == '\x02') {
    ~r0_00.len = (int)in_stack_ffffffffffffffe0;
    ~r0_00.str = in_stack_ffffffffffffffd8;
    html_template_stripTags(in_stack_ffffffffffffffc8,~r0_00);
    replacementTable.len = (int)in_stack_ffffffffffffffe0;
    replacementTable.array = (string *)in_stack_ffffffffffffffd8;
    replacementTable.cap = in_stack_ffffffffffffffe8;
    ~r0_02.len = unaff_RBP;
    ~r0_02.str = in_stack_fffffffffffffff0;
    html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable,badRunes_00,~r0_02);
    return;
  }
  replacementTable_00.len = (int)in_stack_ffffffffffffffe0;
  replacementTable_00.array = (string *)in_stack_ffffffffffffffd8;
  replacementTable_00.cap = in_stack_ffffffffffffffe8;
  ~r0_03.len = unaff_RBP;
  ~r0_03.str = in_stack_fffffffffffffff0;
  html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable_00,badRunes,~r0_03);
  return;
}



void html_template_rcdataEscaper(__interface___ args,string ~r0)

{
  __interface___ args_00;
  __string replacementTable;
  __string replacementTable_00;
  string ~r0_00;
  string ~r0_01;
  html_template_contentType in_AL;
  bool badRunes;
  char extraout_CL;
  html_template_contentType t;
  int unaff_RBP;
  int unaff_R14;
  string in_stack_ffffffffffffffc8;
  string *in_stack_ffffffffffffffd8;
  string in_stack_ffffffffffffffe0;
  uint8 *in_stack_fffffffffffffff0;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  args_00.cap = (int)in_stack_ffffffffffffffd8;
  args_00.array = (interface___ *)in_stack_ffffffffffffffc8.str;
  args_00.len = in_stack_ffffffffffffffc8.len;
  html_template_stringify(args_00,in_stack_ffffffffffffffe0,in_AL);
  if (extraout_CL == '\x02') {
    replacementTable.len = (int)in_stack_ffffffffffffffe0.str;
    replacementTable.cap = in_stack_ffffffffffffffe0.len;
    replacementTable.array = in_stack_ffffffffffffffd8;
    ~r0_00.len = unaff_RBP;
    ~r0_00.str = in_stack_fffffffffffffff0;
    html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable,badRunes,~r0_00);
    return;
  }
  replacementTable_00.len = (int)in_stack_ffffffffffffffe0.str;
  replacementTable_00.cap = in_stack_ffffffffffffffe0.len;
  replacementTable_00.array = in_stack_ffffffffffffffd8;
  ~r0_01.len = unaff_RBP;
  ~r0_01.str = in_stack_fffffffffffffff0;
  html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable_00,badRunes,~r0_01);
  return;
}



void html_template_htmlEscaper(__interface___ args,string ~r0)

{
  __interface___ args_00;
  __string replacementTable;
  string ~r0_00;
  html_template_contentType in_AL;
  bool badRunes;
  char extraout_CL;
  html_template_contentType t;
  int unaff_RBP;
  int unaff_R14;
  string in_stack_ffffffffffffffc8;
  string *in_stack_ffffffffffffffd8;
  string in_stack_ffffffffffffffe0;
  uint8 *in_stack_fffffffffffffff0;
  
  while (&stack0x00000000 <= *(undefined **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  args_00.cap = (int)in_stack_ffffffffffffffd8;
  args_00.array = (interface___ *)in_stack_ffffffffffffffc8.str;
  args_00.len = in_stack_ffffffffffffffc8.len;
  html_template_stringify(args_00,in_stack_ffffffffffffffe0,in_AL);
  if (extraout_CL == '\x02') {
    return;
  }
  replacementTable.len = (int)in_stack_ffffffffffffffe0.str;
  replacementTable.cap = in_stack_ffffffffffffffe0.len;
  replacementTable.array = in_stack_ffffffffffffffd8;
  ~r0_00.len = unaff_RBP;
  ~r0_00.str = in_stack_fffffffffffffff0;
  html_template_htmlReplacer(in_stack_ffffffffffffffc8,replacementTable,badRunes,~r0_00);
  return;
}



// WARNING: Variable defined which should be unmapped: written

void html_template_htmlReplacer(string s,__string replacementTable,bool badRunes,string ~r0)

{
  void *pvVar1;
  int iVar2;
  runtime_slice ~r0_00;
  runtime_slice ~r0_01;
  runtime_slice ~r0_02;
  string format;
  error err;
  uint32 val;
  int32 r;
  undefined7 in_register_00000001;
  int iVar3;
  strings_Builder *extraout_RAX;
  strings_Builder *b;
  strings_Builder *extraout_RAX_00;
  uint8 *extraout_RAX_01;
  uint8 *extraout_RAX_02;
  uint8 *puVar4;
  undefined8 extraout_RAX_03;
  undefined8 extraout_RAX_04;
  strings_Builder *extraout_RAX_05;
  strings_Builder *psVar5;
  uint8 *extraout_RAX_06;
  int in_RCX;
  uint uVar6;
  uint extraout_RCX;
  uint extraout_RCX_00;
  uint uVar7;
  size_t sVar8;
  uint extraout_RCX_01;
  void *pvVar9;
  void *in_RBX;
  int extraout_RBX;
  int w;
  uint extraout_RBX_00;
  uint extraout_RBX_01;
  void *x;
  void *extraout_RBX_02;
  uint extraout_RBX_03;
  uint extraout_RBX_04;
  void *pvVar10;
  strings_Builder *extraout_RSI;
  strings_Builder *extraout_RSI_00;
  strings_Builder *extraout_RSI_01;
  uint in_RDI;
  size_t __n;
  size_t extraout_RDI;
  int extraout_RDI_00;
  int iVar11;
  size_t extraout_RDI_01;
  char in_R8B;
  void *extraout_R8;
  strings_Builder **extraout_R11;
  uint8 **extraout_R11_00;
  strings_Builder **extraout_R11_01;
  uint8 **extraout_R11_02;
  strings_Builder **extraout_R11_03;
  uint8 **extraout_R11_04;
  int unaff_R14;
  interface___ in_stack_ffffffffffffff38;
  uint8 *in_stack_ffffffffffffff48;
  int in_stack_ffffffffffffff50;
  __interface___ in_stack_ffffffffffffff58;
  undefined4 uStack_90;
  int written;
  int i;
  void *local_48;
  void *local_40;
  strings_Builder *local_38;
  uint8 *local_30;
  undefined local_28 [16];
  undefined local_18 [16];
  
  iVar3 = CONCAT71(in_register_00000001,badRunes);
  while (&local_48 <= *(void ***)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  runtime_newobject((internal_abi_Type *)&DAT_00851780,in_RBX);
  pvVar10 = (void *)0x0;
  psVar5 = extraout_RAX;
  local_38 = extraout_RAX;
  for (pvVar9 = (void *)0x0; (int)pvVar9 < (int)in_RBX; pvVar9 = (void *)(iVar11 + (int)pvVar9)) {
    if (in_RBX < pvVar9) {
                    // WARNING: Subroutine does not return
      runtime_panicSliceB();
    }
    unicode_utf8_DecodeRuneInString
              ((string)in_stack_ffffffffffffff38,
               (sdword)iVar3 + ((dword)(-((int)in_RBX - (int)pvVar9) >> 0x3f) & (dword)pvVar9),
               (int)in_RBX - (int)pvVar9);
    uVar6 = (uint)(sdword)val;
    psVar5 = local_38;
    iVar11 = extraout_RBX;
    if ((int)uVar6 < (int)in_RDI) {
      if (in_RDI <= uVar6) {
                    // WARNING: Subroutine does not return
        runtime_panicIndex();
      }
      sVar8 = *(size_t *)(in_RCX + 8 + uVar6 * 0x10);
      pvVar1 = *(void **)(in_RCX + uVar6 * 0x10);
      if (sVar8 != 0) {
        local_40 = pvVar1;
        if (pvVar10 == (void *)0x0) {
          strings___Builder__Grow(local_38,(int)in_RBX);
        }
        if (pvVar9 < pvVar10) {
                    // WARNING: Subroutine does not return
          runtime_panicSliceB();
        }
        __n = (int)pvVar9 - (int)pvVar10;
        pvVar10 = (void *)(iVar3 + ((uint)pvVar10 & (int)-__n >> 0x3f));
        psVar5 = local_38;
        if (local_38->addr == (strings_Builder *)0x0) {
          if (runtime_writeBarrier._0_4_ != 0) {
            runtime_gcWriteBarrier2();
            *extraout_R11 = extraout_RAX_00;
            extraout_R11[1] = extraout_RAX_00->addr;
            __n = extraout_RDI;
            psVar5 = extraout_RAX_00;
          }
          psVar5->addr = psVar5;
        }
        else if (local_38 != local_38->addr) {
                    // WARNING: Subroutine does not return
          runtime_gopanic(in_stack_ffffffffffffff38);
        }
        uVar7 = (psVar5->buf).cap;
        iVar2 = (psVar5->buf).len;
        uVar6 = iVar2 + __n;
        puVar4 = (psVar5->buf).array;
        if (uVar7 < uVar6) {
          ~r0_00.cap = (int)in_stack_ffffffffffffff48;
          ~r0_00.array = in_stack_ffffffffffffff38._type;
          ~r0_00.len = (int)in_stack_ffffffffffffff38.data;
          local_48 = pvVar10;
          runtime_growslice(puVar4,uVar6,uVar7,__n,(internal_abi_Type *)&DAT_00807920,~r0_00);
          uVar6 = extraout_RBX_00;
          puVar4 = extraout_RAX_01;
          uVar7 = extraout_RCX;
          pvVar10 = local_48;
        }
        local_30 = puVar4;
        runtime_memmove(puVar4 + iVar2,pvVar10,__n);
        (local_38->buf).len = uVar6;
        (local_38->buf).cap = uVar7;
        psVar5 = local_38;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11_00 = local_30;
          extraout_R11_00[1] = (extraout_RSI->buf).array;
          psVar5 = extraout_RSI;
        }
        (psVar5->buf).array = local_30;
        if (psVar5->addr == (strings_Builder *)0x0) {
          if (runtime_writeBarrier._0_4_ != 0) {
            runtime_gcWriteBarrier2();
            *extraout_R11_01 = extraout_RSI_00;
            extraout_R11_01[1] = extraout_RSI_00->addr;
            psVar5 = extraout_RSI_00;
          }
          psVar5->addr = psVar5;
        }
        else if (psVar5 != psVar5->addr) {
                    // WARNING: Subroutine does not return
          runtime_gopanic(in_stack_ffffffffffffff38);
        }
        uVar7 = (psVar5->buf).cap;
        iVar2 = (psVar5->buf).len;
        uVar6 = sVar8 + iVar2;
        puVar4 = (psVar5->buf).array;
        if (uVar7 < uVar6) {
          ~r0_01.cap = (int)in_stack_ffffffffffffff48;
          ~r0_01.array = in_stack_ffffffffffffff38._type;
          ~r0_01.len = (int)in_stack_ffffffffffffff38.data;
          runtime_growslice(puVar4,uVar6,uVar7,sVar8,(internal_abi_Type *)&DAT_00807920,~r0_01);
          puVar4 = extraout_RAX_02;
          uVar7 = extraout_RCX_00;
          uVar6 = extraout_RBX_01;
        }
        local_30 = puVar4;
        runtime_memmove(puVar4 + iVar2,local_40,sVar8);
        (local_38->buf).len = uVar6;
        (local_38->buf).cap = uVar7;
        pvVar10 = (void *)(extraout_RBX + (int)pvVar9);
        psVar5 = local_38;
        if (runtime_writeBarrier._0_4_ != 0) {
          runtime_gcWriteBarrier2();
          *extraout_R11_02 = local_30;
          extraout_R11_02[1] = (extraout_RSI_01->buf).array;
          psVar5 = extraout_RSI_01;
          iVar11 = extraout_RDI_00;
          pvVar10 = extraout_R8;
        }
        (psVar5->buf).array = local_30;
      }
    }
    else if ((in_R8B == '\0') && (((dword)(val - 0xfdd0) < 0x20 || ((dword)(val - 0xfff0) < 0x10))))
    {
      if (pvVar10 == (void *)0x0) {
        strings___Builder__Grow(local_38,(int)in_RBX);
      }
      if (pvVar9 < pvVar10) {
                    // WARNING: Subroutine does not return
        runtime_panicSliceB();
      }
      runtime_convTstring((string)in_stack_ffffffffffffff38,
                          (void *)(iVar3 + ((uint)pvVar10 & -((int)pvVar9 - (int)pvVar10) >> 0x3f)))
      ;
      local_28._8_8_ = extraout_RAX_03;
      local_28._0_8_ = &DAT_008075e0;
      runtime_convT32(val,x);
      local_18._8_8_ = extraout_RAX_04;
      local_18._0_8_ = &DAT_008077e0;
      format.len = in_stack_ffffffffffffff50;
      format.str = in_stack_ffffffffffffff48;
      err.tab._4_4_ = val;
      err.tab._0_4_ = uStack_90;
      err.data = pvVar10;
      fmt_Fprintf((io_Writer)in_stack_ffffffffffffff38,format,in_stack_ffffffffffffff58,0x95e860,err
                 );
      pvVar10 = (void *)(extraout_RBX + (int)pvVar9);
      psVar5 = local_38;
    }
  }
  if (pvVar10 == (void *)0x0) {
    return;
  }
  if (in_RBX < pvVar10) {
                    // WARNING: Subroutine does not return
    runtime_panicSliceB();
  }
  sVar8 = (int)in_RBX - (int)pvVar10;
  pvVar9 = (void *)(iVar3 + ((uint)pvVar10 & (int)-sVar8 >> 0x3f));
  if (psVar5->addr == (strings_Builder *)0x0) {
    if (runtime_writeBarrier._0_4_ != 0) {
      runtime_gcWriteBarrier2();
      *extraout_R11_03 = extraout_RAX_05;
      extraout_R11_03[1] = extraout_RAX_05->addr;
      psVar5 = extraout_RAX_05;
      pvVar9 = extraout_RBX_02;
      sVar8 = extraout_RDI_01;
    }
    psVar5->addr = psVar5;
  }
  else if (psVar5 != psVar5->addr) {
                    // WARNING: Subroutine does not return
    runtime_gopanic(in_stack_ffffffffffffff38);
  }
  uVar7 = (psVar5->buf).cap;
  iVar3 = (psVar5->buf).len;
  uVar6 = iVar3 + sVar8;
  puVar4 = (psVar5->buf).array;
  if (uVar7 < uVar6) {
    ~r0_02.cap = (int)in_stack_ffffffffffffff48;
    ~r0_02.array = in_stack_ffffffffffffff38._type;
    ~r0_02.len = (int)in_stack_ffffffffffffff38.data;
    runtime_growslice(puVar4,uVar6,uVar7,sVar8,(internal_abi_Type *)&DAT_00807920,~r0_02);
    uVar7 = extraout_RCX_01;
    uVar6 = extraout_RBX_03;
    puVar4 = extraout_RAX_06;
  }
  local_30 = puVar4;
  runtime_memmove(puVar4 + iVar3,pvVar9,sVar8);
  (local_38->buf).len = uVar6;
  (local_38->buf).cap = uVar7;
  if (runtime_writeBarrier._0_4_ != 0) {
    runtime_gcWriteBarrier2();
    *extraout_R11_04 = local_30;
    extraout_R11_04[1] = (local_38->buf).array;
    uVar6 = extraout_RBX_04;
  }
  (local_38->buf).array = local_30;
